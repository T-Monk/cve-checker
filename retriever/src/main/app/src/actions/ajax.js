import {API} from "../library/api";

export const DOWNLOAD_CVES_REQUEST = "DOWNLOAD_CVES_REQUEST";
export const DOWNLOAD_CVES_SUCCESS = "DOWNLOAD_CVES_SUCCESS";
export const DOWNLOAD_CVES_FAILURE = "DOWNLOAD_CVES_FAILURE";

export const downloadCVEs = (path) => {
  return (dispatch) => {
    dispatch({
      type: DOWNLOAD_CVES_REQUEST
    });

    const api = new API();

    api.getDownloadCVEs(path).then(
      data =>
        dispatch({
          type: DOWNLOAD_CVES_SUCCESS
        }),
      error =>
        dispatch({
          type: DOWNLOAD_CVES_FAILURE,
          error
        })
    );
  };
};
